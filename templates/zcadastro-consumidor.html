{% extends "zbase.html" %}

{% block head %}
    <link rel="stylesheet" href="../static/css/cadastro.css">
    <title>Cadastro | Consumidor</title>
{% endblock %}

{% block main %}
<div class="contents contents-cadastro bg-power-Gray-100" id="conteudo">
    <header class="header-ecoconsumo bg-raphosedy-700">
        <div class="container d-flex justify-content-between align-items-center">
            <a href="zselecao"><img src="../static/imgs/Logo Lateral.svg" alt=""></a>

            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            <div class="scroll-massages">
                {% for category, msg in messages %}
                <p class="{{ category }} message-system display-block-animation bg-power-Gray-200 rounded-3  mb-1">
                    {{ msg }} 
                </p>
                {% endfor %}
            </div>
            {% endif %}
            {% endwith %}

            <div class="d-flex column-gap-4 align-items-center">
                <a href="zcadastro_consumidor"><img src="../static/imgs/Frame 17 - Green.svg" alt=""></a>
                <a href="zlogin_consumidor"><img src="../static/imgs/Frame 15 - white.svg" alt=""></a>
            </div>
        </div>
    </header>
    <main class="container main-cadastro position-relative py-5 row altura-100 align-items-center mx-auto column-gap-4">
        <section class="conteudo-cadastro col-5 z-1">
            <h1 class="forest-200 pb-3 mb-4">Cadastre-se</h1>
            <h5 class="power-Gray-800 pb-3"><span class="forest-200 fw-bold">Doador</span>, você está prestes a fazer parte do <span class="forest-200 fw-bold">EcoConsumo!</span></h5>
            <h6 class="power-Gray-800">Você é empresa? <a class="secundary-600 fw-bold p-1 text-select transition-ease-in" href="zcadastro_empresa">Clique aqui</a></h6>
        </section>



        <section class="section-cadastro background-forms position-absolute  py-64 end-0 top-0 col-7 d-flex align-items-center justify-content-center ">
            <div class="card-cadastro p-4 text-center col-4">
                <img class="pb-4" src="../../static/imgs/Doador_Icon.svg" alt="">
                <h5 class="forest-300 fw-bold pb-2">Cadastre-se</h5>
                <p class="power-Gray-700 gg-font fw-medium pb-2">Por favor digite algumas informações</p>
                <div class="power-Gray-700 g-font">
                    <p id='passos'>Passo 1 de 2</p>
                    <div class='passo1'>
                        <img src="../../static/imgs/rounded.svg" alt="">
                        <img src="../../static/imgs/circle.svg" alt="">
                    </div>
                    <div class='passo2 hidden'>
                        <img src="../../static/imgs/rounded.svg" alt="">
                        <img src="../../static/imgs/rounded.svg" alt="">
                    </div>
                </div>
                <form action="{{url_for('doador.zcreate')}}" method="post" class="row-gap-4 d-flex flex-column">
                    <div class="campos-form d-flex flex-column row-gap-3 passo1">
                        <div class="campo-eco text-start">
                            <label class="d-block g-font power-Gray-700" for="">Nome<span class="obrigatorio">*</span></label>
                            <input class="input-eco input-cadastro px-2" type="name" placeholder="Nome" name='nome'>
                        </div>
                        <div class="campo-eco text-start">
                            <label class="d-block g-font power-Gray-700" for="">Data de nascimento<span class="obrigatorio">*</span></label>
                            <input class="input-eco input-cadastro px-2" type="date" placeholder="Data de nascimento" name='nascimento'>
                        </div>
                        <div class="campo-eco text-start">
                            <label class="d-block g-font power-Gray-700" for="">Telefone<span class="obrigatorio">*</span></label>
                            <input class="input-eco input-cadastro px-2" type="tel" placeholder="Telefone" name='telefone'>
                        </div>
                    </div>
                    <div class="campos-form d-flex flex-column row-gap-3 hidden passo2">
                        <div class="campo-eco text-start">
                            <label class="d-block g-font power-Gray-700" for="">Email<span class="obrigatorio">*</span></label>
                            <input class="input-eco input-cadastro px-2" type="name" placeholder="Email" name='email'>
                        </div>
                        <div class="campo-eco text-start">
                            <label class="d-block g-font power-Gray-700" for="">Senha<span class="obrigatorio">*</span></label>
                            <input class="input-eco input-cadastro px-2" type="password" placeholder="Senha" name='senha'>
                        </div>
                        <div class="campo-eco text-start">
                            <label class="d-block g-font power-Gray-700" for="">Confirmar senha<span class="obrigatorio">*</span></label>
                            <input class="input-eco input-cadastro px-2" type="password" placeholder="Confirmar Senha" name='confirmar'>
                        </div>
                    </div>
                    <div class="d-flex column-gap-4 passo1">
                        <a href="{{url_for('selecao')}}" class="btn-stretch btn-duo rounded-2 fw-semibold bg-power-Gray-100 gg-font forest-200 d-inline-flex align-items-center justify-content-center transition-ease-in py-2" type="button">Voltar</a>
                        <input class="btn-stretch btn-duo rounded-2 fw-semibold bg-forest-200 gg-font power-Gray-100 d-inline-flex align-items-center justify-content-center transition-ease-in" type="button" onclick="mostrarParte('passo2')" value="Avançar">
                    </div>
                    <div class="d-flex column-gap-4 hidden passo2">
                        <a class="btn-stretch btn-duo rounded-2 fw-semibold bg-power-Gray-100 gg-font forest-200 d-inline-flex align-items-center justify-content-center transition-ease-in py-2" type="button" onclick="mostrarParte('passo1')">Voltar</a>
                        <input class="btn-stretch btn-duo rounded-2 fw-semibold bg-forest-200 gg-font power-Gray-100 d-inline-flex align-items-center justify-content-center transition-ease-in" type="submit" value="Concluir">
                    </div>
                </form>
            </div>
        </section>
    </main>
</div>
<script>
    function mostrarParte(partClass) {
        document.querySelectorAll('.passo1').forEach(function(element) {
            element.classList.add('hidden');
        });
        
        document.querySelectorAll('.passo2').forEach(function(element) {
            element.classList.add('hidden');
        });

        document.querySelectorAll('.' + partClass).forEach(function(element) {
            element.classList.remove('hidden');
        });

        var passosParagrafo = document.getElementById('passos');
        if (partClass === 'passo1') {
            passosParagrafo.textContent = 'Passo 1 de 2';
        } else {
            passosParagrafo.textContent = 'Passo 2 de 2';
        }
    }
</script>

{% endblock %}
